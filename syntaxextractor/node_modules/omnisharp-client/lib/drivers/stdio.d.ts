import * as OmniSharp from "../omnisharp-server";
import { IDriver, IDriverOptions, Runtime, IOmnisharpPlugin } from "../enums";
import { DriverState } from "../enums";
export declare class StdioDriver implements IDriver {
    private _seq;
    private _process;
    private _outstandingRequests;
    private _projectPath;
    private _additionalArguments;
    private _disposable;
    private _plugins;
    private _serverPath;
    private _findProject;
    private _logger;
    private _timeout;
    private _runtime;
    private _version;
    private _PATH;
    private _runtimeContext;
    id: string;
    private _currentState;
    currentState: DriverState;
    constructor({projectPath, serverPath, findProject, logger, timeout, additionalArguments, runtime, plugins, version}: IDriverOptions);
    private _getRuntimeContext();
    dispose(): void;
    readonly serverPath: string;
    readonly projectPath: string;
    readonly runtime: Runtime;
    private _commandStream;
    readonly commands: Rx.Observable<OmniSharp.Stdio.Protocol.ResponsePacket>;
    private _eventStream;
    readonly events: Rx.Observable<OmniSharp.Stdio.Protocol.EventPacket>;
    private _connectionStream;
    readonly state: Rx.Observable<DriverState>;
    readonly outstandingRequests: number;
    connect(): void;
    private _connect();
    private _ensureRuntimeExists();
    updatePlugins(plugins: IOmnisharpPlugin[]): void;
    private serverErr(data);
    private parseError(data);
    disconnect(): void;
    request<TRequest, TResponse>(command: string, request?: TRequest): Rx.Observable<TResponse>;
    private handleData(data);
    private handlePacket(packet);
    private handlePacketResponse(response);
    private handlePacketEvent(event);
    private handleNonPacket(data);
}
